\chapter{Summary and Conclusions}

This work discussed the modeling and tracking control of rigid body systems.
Both subjects are well covered in the dedicated literature.
However, the literature is somewhat split into two viewpoints:
Small academic examples are treated independently with a lot of emphasis on the particular geometry like e.g. \cite{Marsden:MechanicsAndSymmetry}.
Larger multibody systems are handled by general formalisms, but treated by minimal generalized coordinates as if their configuration manifold is $\RealNum^\dimConfigSpace$ as in e.g.\ \cite{Schwertassek:MultibodySystems}.
This work attempts to combine both these points of view:
The proposed recipe for the equations of motion holds for general multibody systems \textit{and} allows a parameterization through redundant configuration coordinates that respect the underlying geometry of the system.

While inertia is arguably the core aspect of a rigid body system, this work also investigated into analog, natural stiffness and damping formulations.
The resulting damping and stiffness parameters, are not presented, maybe even unknown, in the dedicated literature.
The way e.g.\ the moment of stiffness matrix $\bodyMOS{}{}$ was derived here, it is just as natural as the (absolutely established) moment of inertia matrix $\bodyMOI{}{}$.

For control design, it is a common approach to design the desired closed loop dynamics and derive the actually required control law from it.
Flatness based control formalizes this approach but the vast majority combines it with linear error dynamics, thus treating the system as if its configuration manifold is $\RealNum^\numInputs$.
This work proposes desired closed loop dynamics based on a general mechanical model of a rigid body system.
As a result, the closed loop dynamics are invariant to the choice of coordinates in the same way as the motion of a mechanical system is unchanged by the choice of coordinates with which it is parameterized.
Furthermore, all control parameters have intrinsic mechanical interpretation, so should be intuitive for tuning.
 
Motivated by this basic idea, this work proposed three candidates for closed loop tracking dynamics:
One motivated by the dynamics of a particle system, one motivated by the rigid body energies and one motivated by the total energy of the system.
When dealing with the stabilization of a constant reference, the three approaches coincide and resemble an actual rigid body system subject to inertia, viscous damping and linear springs but not gravity.
For this case, the total energy is a Lyapunov function.
For tracking a general reference trajectory, only the third approach guarantees stability.
In contrast, this approach has the drawback of requiring an additional ingredient, the transport map, whose existence is not guaranteed.
Though not necessarily being a Lyapunov function, each approach comes with a formulation for a total energy that is positive definite, i.e.\ positive and zero if, and only if, the tracking objective is fulfilled, usually $\sysCoord=\sysCoordR$ and $\sysVel = \sysVelR$.

The three control approaches were applied to various examples of rigid body systems and tested in simulation with reasonable reference trajectories and initial conditions.
While the total energy was not always monotonically decreasing, it always eventually converged to zero.
So the general control objective was always achieved.

Finally, the proposed rigid body controller was successfully tested on the LSR-quad and tricopter.
The realization also required trajectory generation, state estimation and underlying actuator control which were each challenging control tasks in their on right.
From a coding perspective, the actual rigid body controller is less than 1\,\% of the microcontroller C code.
The presented experiments show the viability of the proposed control design in a practical environment with imperfect measurements and disturbances.
The quadcopter showed good tracking performance even while following aerobatic trajectories like loops and flips.

% \cite{Konz:Mathmod}
% \cite{Konz:Mathmod2018}
% \cite{Irscheid:HeavyRopesTricopter}
% \cite{Konz:GaussTrackingControl}
% \cite{Kastelan:Tricopter}
% \cite{Konz:Mechatronics}
% \cite{Konz:MechatronicsBook}
